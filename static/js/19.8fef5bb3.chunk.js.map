{"version":3,"sources":["components/meetingSteps/createUserType.js"],"names":["styled","div","Apps","state","selectedAppId","wrapperRef","createRef","handleClick","e","node","current","target","contains","setState","handleSelect","id","document","addEventListener","this","removeEventListener","customerId","parameters","currentCustomer","SOURCE_APP_SPEC_ID","typeRelationships","APP_SPEC_RELATIONSHIPS","query","SOURCE_APP_SPEC_QUERY","loading","error","data","refetchQueries","console","graphQLErrors","apps","unitData","map","el","flattenData","className","app","i","key","v4","parentId","selected","onSelect","Component","withNoStack"],"mappings":"4ZAoByBA,IAAOC,IAAV,KAAtB,IAOMC,E,2MAGJC,MAAQ,CACNC,cAAe,M,EAGjBC,WAAaC,sB,EAUbC,YAAc,SAACC,GACb,IAAMC,EAAO,EAAKJ,WAAWK,QAEzBD,GAAQA,IAASD,EAAEG,SAAWF,EAAKG,SAASJ,EAAEG,SAChD,EAAKE,SAAS,CAAET,cAAe,Q,EAInCU,aAAe,SAACC,GAAD,OAAQ,EAAKF,SAAS,CAAET,cAAeW,K,mFAfpDC,SAASC,iBAAiB,YAAaC,KAAKX,e,6CAI5CS,SAASG,oBAAoB,YAAaD,KAAKX,e,+BAavC,IAAD,OACDa,EAAa,uCACXhB,EAAkBc,KAAKf,MAAvBC,cAEFiB,EAAa,CACjBC,gBAAiBF,GAGnB,OACE,kBAAC,IAAD,CACEL,GAAIQ,IACJC,kBAAmBC,IACnBC,MAAOC,IACPN,WAAYA,IAEX,YAA+C,IAA5CO,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,eACxB,GAAIH,EAAS,MAAO,aAEpB,GAAIC,EAEF,OADAG,QAAQH,MAAMA,GACR,UAAN,OAAiBA,EAAMI,eAGzB,IAAMC,EAAOJ,EAAKK,SAASC,KAAI,SAACC,GAAD,OAAQC,YAAYD,MAEnD,OACE,oCACE,yBAAKE,UAAU,OACb,yBAAKA,UAAU,oBACZL,GACCA,EAAKE,KAAI,SAACI,EAAKC,GAAN,OACP,kBAAC,IAAD,CACEC,IAAKC,eACLC,SAAUxB,EACVoB,IAAKA,EACLK,SAAUL,EAAIzB,KAAOX,EACrB2B,eAAgBA,EAChBe,SAAU,EAAKhC,oBAKzB,qC,GArEKiC,aA8EJC,sBAAY9C","file":"static/js/19.8fef5bb3.chunk.js","sourcesContent":["import React, { Component, createRef } from \"react\";\r\nimport { Unit } from \"@nostack/no-stack\";\r\nimport styled from \"styled-components\";\r\nimport { v4 } from \"uuid\";\r\nimport { withNoStack } from \"@nostack/no-stack\";\r\n\r\nimport { flattenData } from \"../../flattenData\";\r\n\r\nimport AppCreationForm from \"../AppSpec/AppCreationForm\";\r\nimport App from \"../AppSpec/App\";\r\n\r\nimport { SOURCE_APP_SPEC_ID } from \"../../config\";\r\nimport {\r\n  APP_SPEC_RELATIONSHIPS,\r\n  SOURCE_APP_SPEC_QUERY,\r\n} from \"../source-props/appSpec\";\r\n\r\n// np__added_start unit: appSpec2, comp: Apps, loc: styling\r\n\r\n// add styling here\r\nconst AppsStyleWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-evenly;\r\n`;\r\n// np__added_end unit: appSpec2, comp: Apps, loc: styling\r\n\r\nclass Apps extends Component {\r\n  // np__added_start unit: appSpec2, comp: Apps, loc: beginning\r\n  // np__added_end unit: appSpec2, comp: Apps, loc: beginning\r\n  state = {\r\n    selectedAppId: null,\r\n  };\r\n\r\n  wrapperRef = createRef();\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClick);\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    const node = this.wrapperRef.current;\r\n\r\n    if (node && node !== e.target && !node.contains(e.target)) {\r\n      this.setState({ selectedAppId: null });\r\n    }\r\n  };\r\n\r\n  handleSelect = (id) => this.setState({ selectedAppId: id });\r\n\r\n  render() {\r\n    const customerId = \"2ea51c4a-c072-4797-9de7-4bec0fc11db3\";\r\n    const { selectedAppId } = this.state;\r\n\r\n    const parameters = {\r\n      currentCustomer: customerId,\r\n    };\r\n\r\n    return (\r\n      <Unit\r\n        id={SOURCE_APP_SPEC_ID}\r\n        typeRelationships={APP_SPEC_RELATIONSHIPS}\r\n        query={SOURCE_APP_SPEC_QUERY}\r\n        parameters={parameters}\r\n      >\r\n        {({ loading, error, data, refetchQueries }) => {\r\n          if (loading) return \"Loading...\";\r\n\r\n          if (error) {\r\n            console.error(error);\r\n            return `Error: ${error.graphQLErrors}`;\r\n          }\r\n\r\n          const apps = data.unitData.map((el) => flattenData(el));\r\n\r\n          return (\r\n            <>\r\n              <div className=\"box\">\r\n                <div className=\"flex flex-column\">\r\n                  {apps &&\r\n                    apps.map((app, i) => (\r\n                      <App\r\n                        key={v4()}\r\n                        parentId={customerId}\r\n                        app={app}\r\n                        selected={app.id === selectedAppId}\r\n                        refetchQueries={refetchQueries}\r\n                        onSelect={this.handleSelect}\r\n                      />\r\n                    ))}\r\n                </div>\r\n              </div>\r\n              <br></br>\r\n            </>\r\n          );\r\n        }}\r\n      </Unit>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withNoStack(Apps);\r\n"],"sourceRoot":""}