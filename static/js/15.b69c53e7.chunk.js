(this["webpackJsonpno-stack-base"]=this["webpackJsonpno-stack-base"]||[]).push([[15],{674:function(e,n,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=a(0),r=i(t),d=a(126),o=a(8),l=i(a(31)),s=i(a(187)),c=a(83),u=a(69),m=a(45),v=a(294),p=a(300),k=i(a(237)),b=i(a(246)),f=function(e,n){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])})(e,n)};function N(e,n){function a(){this.constructor=e}f(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}var g=function(){return(g=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++)for(var t in n=arguments[a])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}).apply(this,arguments)};function y(e,n,a,i){return new(a||(a=Promise))((function(t,r){function d(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?t(e.value):new a((function(n){n(e.value)})).then(d,o)}l((i=i.apply(e,n||[])).next())}))}function h(e,n){var a,i,t,r,d={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;d;)try{if(a=1,i&&(t=2&r[0]?i.return:r[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,r[1])).done)return t;switch(i=0,t&&(r=[2&r[0],t.value]),r[0]){case 0:case 1:t=r;break;case 4:return d.label++,{value:r[1],done:!1};case 5:d.label++,i=r[1],r=[0];continue;case 7:r=d.ops.pop(),d.trys.pop();continue;default:if(!(t=(t=d.trys).length>0&&t[t.length-1])&&(6===r[0]||2===r[0])){d=0;continue}if(3===r[0]&&(!t||r[1]>t[0]&&r[1]<t[3])){d.label=r[1];break}if(6===r[0]&&d.label<t[1]){d.label=t[1],t=r;break}if(t&&d.label<t[2]){d.label=t[2],d.ops.push(r);break}t[2]&&d.ops.pop(),d.trys.pop();continue}r=n.call(e,d)}catch(e){r=[6,e],i=0}finally{a=t=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function S(){for(var e=0,n=0,a=arguments.length;n<a;n++)e+=arguments[n].length;var i=Array(e),t=0;for(n=0;n<a;n++)for(var r=arguments[n],d=0,o=r.length;d<o;d++,t++)i[t]=r[d];return i}function I(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EXECUTE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"executionParameters"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unrestricted"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"Execute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"actionId"},value:{kind:"Variable",name:{kind:"Name",value:"actionId"}}},{kind:"Argument",name:{kind:"Name",value:"executionParameters"},value:{kind:"Variable",name:{kind:"Name",value:"executionParameters"}}},{kind:"Argument",name:{kind:"Name",value:"unrestricted"},value:{kind:"Variable",name:{kind:"Name",value:"unrestricted"}}}],directives:[],selectionSet:void 0}]}}],loc:{start:0,end:237,source:{body:"\n  mutation EXECUTE(\n    $actionId: ID!\n    $executionParameters: String\n    $unrestricted: Boolean\n  ) {\n    Execute(\n      actionId: $actionId\n      executionParameters: $executionParameters\n      unrestricted: $unrestricted\n    )\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"REGISTER_USER"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userClassId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"formValues"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"user"},name:{kind:"Name",value:"CreateUserOnPlatform"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userClass"},value:{kind:"Variable",name:{kind:"Name",value:"userClassId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"firstName"},value:{kind:"Variable",name:{kind:"Name",value:"firstName"}}},{kind:"Argument",name:{kind:"Name",value:"lastName"},value:{kind:"Variable",name:{kind:"Name",value:"lastName"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}},{kind:"Argument",name:{kind:"Name",value:"formValues"},value:{kind:"Variable",name:{kind:"Name",value:"formValues"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:436,source:{body:"\n  mutation REGISTER_USER(\n    $userClassId: ID!\n    $name: String!\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n    $formValues: String\n  ) {\n    user: CreateUserOnPlatform(\n      userClass: $userClassId\n      name: $name\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n      formValues: $formValues\n    ) {\n      id\n      name\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},T="https://api.nostack.net/graphql",V="a0d89c1f-c423-45e0-9339-c719dcbb7afe",A=t.createContext({stackId:null,currentUser:null,client:void 0,loading:!0,login:function(){},logout:function(){}}),w=A.Provider,O=A.Consumer,D=function(e){var n=e.children;return r.createElement(O,null,(function(e){if(void 0===e)throw new Error("NoStackConsumer must be used within a NoStackProvider.");return n(e)}))},C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currentUser:null,loading:!0},n.setUser=function(e,a,i,t){return n.setState({currentUser:{id:e,username:a,role:i,accessToken:t}})},n.logout=function(e){var a=n.props.client;console.log("about to logout."),localStorage.clear(),a.resetStore(),n.setState({currentUser:null},e)},n.login=function(e){var a=e.username,i=e.password;return y(n,void 0,void 0,(function(){var e,n,t,r,d,o;return h(this,(function(l){switch(l.label){case 0:return e=this.props,n=e.updateAuth,t=e.stackId,r=JSON.stringify({userName:a,password:i,platformId:t}),console.log("in login with new version ... stackId = "+t+"; \n    executionParameters = "+JSON.stringify(r,null,2)),[4,n({variables:{actionId:V,executionParameters:r,unrestricted:!0}}).catch((function(e){return{error:e}}))];case 1:if((d=l.sent()).error||!d.data||!d.data.Execute){if(d.error.networkError)throw d.error.networkError;if(d.error.graphQLErrors)throw d.error.graphQLErrors[0];throw console.log("error logging in: "+JSON.stringify(d.error,null,2)),new Error("Unknown error logging in.")}if(!((o=JSON.parse(d.data.Execute)).userId&&o.userName&&o.role&&o.AuthenticationResult&&o.AuthenticationResult.AccessToken&&o.AuthenticationResult.RefreshToken))throw new Error("Missing data from server on login.");return this.setUser(o.userId,o.userName,o.role,o.AuthenticationResult.AccessToken),[4,localStorage.setItem("accessToken",o.AuthenticationResult.AccessToken)];case 2:return l.sent(),[4,localStorage.setItem("refreshToken",o.AuthenticationResult.RefreshToken)];case 3:return l.sent(),[2,o]}}))}))},n}return N(n,e),n.prototype.componentDidMount=function(){return y(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,this.retrieveUserWithToken()];case 1:return(e=n.sent())?this.setUser(e.id,e.username,e.role,e.accessToken):this.logout(),this.setState({loading:!1}),[2]}}))}))},n.prototype.retrieveUserWithToken=function(){return y(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,this.loginWithToken()];case 1:return e=n.sent(),[3,4];case 2:return n.sent(),[4,this.retrieveUserWithRefreshToken()];case 3:return e=n.sent(),[3,4];case 4:return[2,e]}}))}))},n.prototype.retrieveUserWithRefreshToken=function(){return y(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.refreshToken()];case 1:return n.sent(),[4,this.loginWithToken()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),console.log("Invalid token."),[3,4];case 4:return[2,e]}}))}))},n.prototype.refreshToken=function(){return y(this,void 0,void 0,(function(){var e,n,a,i,t,r,d;return h(this,(function(o){switch(o.label){case 0:return e=this.props,n=e.updateAuth,a=e.stackId,(i=localStorage.getItem("refreshToken"))?(t=JSON.stringify({refreshToken:i,platformId:a}),console.log("in refreshToken...; \n    executionParameters = "+JSON.stringify(t,null,2)),[4,n({variables:{actionId:"96d3be63-53c5-418e-9167-71e3d43271e3",executionParameters:t,unrestricted:!0}}).catch((function(e){return{error:e}}))]):[2,this.logout()];case 1:return r=o.sent(),console.log("in refreshToken...; \n    res = "+JSON.stringify(r,null,2)),!r.error&&r.data&&r.data.Execute&&(d=JSON.parse(r.data.Execute)).AuthenticationResult&&d.AuthenticationResult.AccessToken?[4,localStorage.setItem("accessToken",d.AuthenticationResult.AccessToken)]:[2,this.logout()];case 2:return o.sent(),[2,d.AuthenticationResult.AccessToken]}}))}))},n.prototype.loginWithToken=function(){return y(this,void 0,void 0,(function(){var e,n,a,i,t,r,d;return h(this,(function(o){switch(o.label){case 0:return e=this.props,n=e.updateAuth,a=e.stackId,(i=localStorage.getItem("accessToken"))?(t=JSON.stringify({accessToken:i,platformId:a}),[4,n({variables:{actionId:"1279e113-d70f-4a95-9890-a5cebd344f3d",executionParameters:t,unrestricted:!0}}).catch((function(e){return{error:e}}))]):[2,this.logout()];case 1:if((r=o.sent()).error||!r.data||!r.data.Execute)throw new Error("Expired/Invalid Token");if(!(d=JSON.parse(r.data.Execute)).userId||!d.role||!d.accessToken)throw new Error("Expired/Invalid Token");return[2,{id:d.userId,role:d.role,username:d.userName,accessToken:d.accessToken}]}}))}))},n.prototype.render=function(){var e=this.state,n=e.currentUser,a=e.loading,i=this.props,t=i.stackId,d=i.children,o={stackId:t,currentUser:n,client:i.client,loading:a,login:this.login,logout:this.logout};return r.createElement(w,{value:o},d)},n}(t.Component);function $(e){return function(n){return r.createElement(D,null,(function(a){return r.createElement(e,g({},a,n))}))}}var F,R,L,j,P,z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SOURCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"Source"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"sortings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SortingFragment"},directives:[]}]}},{kind:"Field",alias:void 0,name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0}]}},{kind:"Field",alias:void 0,name:{kind:"Name",value:"constraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ConstraintFragment"},directives:[]}]}},{kind:"Field",alias:void 0,name:{kind:"Name",value:"tree"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeFragment"},directives:[]}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"SortingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Sorting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ConstraintFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Constraint"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"value"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"TreeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tree"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"root"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0}]}},{kind:"Field",alias:void 0,name:{kind:"Name",value:"assns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0}]}}]}},{kind:"Field",alias:void 0,name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:void 0}]}}]}}]),loc:{start:0,end:291,source:{body:"\n  query SOURCE($id: ID!) {\n    Source(id: $id) {\n      id\n      name\n      sortings {\n        ...SortingFragment\n      }\n      types {\n        id\n        name\n      }\n      constraints {\n        ...ConstraintFragment\n      }\n      tree {\n        ...TreeFragment\n      }\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},U=l.button(F||(F=I(["\n  box-sizing: border-box;\n  background-color: white;\n  color: red;\n  font-size: 16px;\n  border: 1px dashed red;\n  width: 25px;\n  height: 25px;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  text-decoration: none;\n  cursor: pointer;\n"],["\n  box-sizing: border-box;\n  background-color: white;\n  color: red;\n  font-size: 16px;\n  border: 1px dashed red;\n  width: 25px;\n  height: 25px;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  text-decoration: none;\n  cursor: pointer;\n"]))),_=l.div(R||(R=I(["\n  direction: ltr;\n"],["\n  direction: ltr;\n"]))),q=function(e){var n=e.id,a=e.children,i=t.useRef(null),o=t.useState(!1),l=o[0],s=o[1],c=function(){return s(!l)},u=function(e){i.current&&!i.current.contains(e.target)&&s(!1)};return t.useEffect((function(){return window.addEventListener("mousedown",u,!1),function(){window.removeEventListener("mousedown",u,!1)}})),r.createElement(d.Query,{query:z,variables:{id:n}},(function(e){var n=e.loading,t=e.error,d=e.data;if(n)return null;if(t)return r.createElement(r.Fragment,null,"Error: $",t.graphQLErrors);var o=d&&d.Source&&d.Source.length>0?d.Source[0]:null;return r.createElement(_,{ref:i},r.createElement(U,{type:"button",onClick:c},l?"-":"+"),l&&o&&a({unit:o}))}))},Q=l.div(L||(L=I(["\n  position: relative;\n"],["\n  position: relative;\n"]))),W=l.div(j||(j=I(["\n  position: absolute;\n  left: 5px;\n  top: 0;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: #fffdfd;\n  box-shadow: 5px 5px 20px #464646;\n  z-index: 999999;\n  min-width: 480px;\n"],["\n  position: absolute;\n  left: 5px;\n  top: 0;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: #fffdfd;\n  box-shadow: 5px 5px 20px #464646;\n  z-index: 999999;\n  min-width: 480px;\n"]))),M=l.div(P||(P=I(["\n  padding: 10px;\n  margin: 10px;\n  border-radius: 3px;\n  background-color: #e6e0e0;\n"],["\n  padding: 10px;\n  margin: 10px;\n  border-radius: 3px;\n  background-color: #e6e0e0;\n"]))),J=function(e){var n=e.unit,a=e.children;return n&&r.createElement(Q,null,r.createElement(W,null,r.createElement("div",null,"Unit: ",n.name||"Unnamed Source"),r.createElement("div",null,"Unit ID: ",n.id),r.createElement(M,null,a)))};var G,B,H,X,K,Y,Z={layout:{hierarchical:!1},height:"400px",nodes:{font:{size:25,multi:"markdown",color:"#6c6c6c",bold:{color:"#f51717",mod:""}},shape:"box"},edges:{arrows:{to:{enabled:!1},middle:{enabled:!1},from:{enabled:!1}}},groups:{constraints:{title:"constraint",font:{size:20,color:"#ffffff"},color:{background:"#f55b5b",border:"#f51717",highlight:"#f51717"},physics:!1},returnedTypes:{title:"returned types",font:{color:"#000000"}}}},ee=function(e){var n=e.unit,a=n.tree,i=n.types,t=n.constraints,d=n.sortings;if(!a)return null;var o=function(e,n,a,i){var t=i.reduce((function(e,n){var a;return Object.assign(((a={})[n.type.id]=n.order.toString(),a),e)}),{}),r=n.map((function(e){return e.id})),d=(e&&e.nodes&&e.nodes.length>0?e.nodes.reduce((function(e,n){return e.find((function(e){return e.id===n.id}))?e:e.concat([n])}),[]):e&&e.root?[e.root]:[]).map((function(e){var n=e.name+(Object.prototype.hasOwnProperty.call(t,e.id)?" *("+t[e.id]+")*":""),a=r.indexOf(e.id)>-1?"returnedTypes":"";return{id:e.id,label:n,group:a}})),o=e.assns.map((function(e){return{from:e.types[0].id,to:e.types[1].id}})),l=a.map((function(e){return{id:e.id,label:e.value,group:"constraints"}})),s=a.map((function(e){return{from:e.id,to:e.type.id}}));return{nodes:d.concat(l),edges:o.concat(s)}}(a,i,t,d);return r.createElement(s,{graph:o,options:Z})},ne=function(e){var n=e.id,a=e.currentUser;return a&&a.role&&"MODERATOR"===a.role?r.createElement(q,{id:n},(function(e){var n=e.unit;return r.createElement(J,{unit:n},r.createElement(ee,{unit:n}))})):null},ae=l.div(G||(G=I(["\n  width: 250px;\n\n  padding: 1em 0;\n\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 10px 10px 10px 10px;\n  box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n"],["\n  width: 250px;\n\n  padding: 1em 0;\n\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 10px 10px 10px 10px;\n  box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n"]))),ie=l.div(B||(B=I(["\n  margin: 0.5em;\n  padding: 0.5em;\n  text-align: center;\n\n  input {\n    display: block;\n    margin: 0.5em auto;\n    width: 80%;\n  }\n"],["\n  margin: 0.5em;\n  padding: 0.5em;\n  text-align: center;\n\n  input {\n    display: block;\n    margin: 0.5em auto;\n    width: 80%;\n  }\n"]))),te=$(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={username:"",password:"",isSubmitting:!1,error:""},n.handleInputChange=function(e){var a;e.preventDefault(),n.setState(((a={})[e.currentTarget.name]=e.currentTarget.value,a))},n.handleSubmit=function(e){return y(n,void 0,void 0,(function(){var n,a,i,t,r;return h(this,(function(d){switch(d.label){case 0:n=this.state,a=n.username,i=n.password,t=this.props.login,e.preventDefault(),this.setState({isSubmitting:!0}),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t({username:a,password:i})];case 2:return d.sent(),[3,4];case 3:return r=d.sent(),this.setState({isSubmitting:!1,error:r.message||r.graphQLErrors&&r.graphQLErrors.length&&r.graphQLErrors[0]||r}),[3,4];case 4:return[2]}}))}))},n}return N(n,e),n.prototype.render=function(){var e=this.props,n=e.loading,a=e.currentUser,i=e.submitButtonText,t=this.state,d=t.username,o=t.password,l=t.isSubmitting,s=t.error;return n||a?null:r.createElement(ae,null,r.createElement("form",{onSubmit:this.handleSubmit},r.createElement(ie,null,r.createElement("label",{htmlFor:"nostack-username"},"Username:",r.createElement("input",{id:"nostack-username",type:"text",name:"username",disabled:l,value:d,onChange:this.handleInputChange}))),r.createElement(ie,null,r.createElement("label",{htmlFor:"nostack-password"},"Password:",r.createElement("input",{id:"nostack-password",type:"password",name:"password",disabled:l,value:o,onChange:this.handleInputChange}))),r.createElement(ie,null,r.createElement("button",{type:"submit",disabled:l||!d||!o},i)),s&&r.createElement(ie,null,s)))},n.defaultProps={currentUser:null,submitButtonText:"Log In"},n}(t.Component)),re=l.button(H||(H=I(["\n  cursor: pointer;\n"],["\n  cursor: pointer;\n"]))),de=$((function(e){var n=e.currentUser,a=void 0===n?null:n,i=e.logout,t=e.buttonText,d=void 0===t?"Log Out":t;return a?r.createElement(re,{type:"button",onClick:function(){return i()}},d):null})),oe=l.div(X||(X=I(["\n  width: 250px;\n\n  padding: 1em 0;\n\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 10px 10px 10px 10px;\n  box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n"],["\n  width: 250px;\n\n  padding: 1em 0;\n\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 10px 10px 10px 10px;\n  box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n"]))),le=l.div(K||(K=I(["\n  font-size: 0.75rem;\n  color: tomato;\n"],["\n  font-size: 0.75rem;\n  color: tomato;\n"]))),se=l.div(Y||(Y=I(["\n  margin: 0.5em;\n  padding: 0.5em;\n  text-align: center;\n\n  input {\n    display: block;\n    margin: 0.5em auto;\n    width: 80%;\n  }\n"],["\n  margin: 0.5em;\n  padding: 0.5em;\n  text-align: center;\n\n  input {\n    display: block;\n    margin: 0.5em auto;\n    width: 80%;\n  }\n"]))),ce=function(e){var n=e.fieldLabel,a=e.type,i=e.name;return r.createElement(se,null,r.createElement("label",null,n,r.createElement(c.Field,{type:a,name:i})),r.createElement(le,null,r.createElement(c.ErrorMessage,{name:i})))},ue={name:"",firstName:"",lastName:"",email:"",password:"",passwordConfirmation:""},me=m.object().shape({name:m.string().label("name").required("Please enter desired username."),firstName:m.string().label("firstName").required("Please enter your first name."),lastName:m.string().label("lastName").required("Please enter your last name."),email:m.string().label("email").email("Enter a valid email.").required("Please enter your email."),password:m.string().label("password").matches(/(?=.*\d)/,"Must have at least one numerical character").matches(/(?=.*[#?!@$%^&*-.,:;'"><[\]{}()_|\\/~])/,"Must have at least one special character.").min(8,"Must be at least 8 characters.").required("Please enter your desired password."),passwordConfirmation:m.string().oneOf([m.ref("password"),"",null],"Passwords must match.").required("Please confirm your password.")});function ve(e){return y(this,void 0,void 0,(function(){var n,a,i,t,r;return h(this,(function(d){switch(d.label){case 0:if(!(n=localStorage.getItem("refreshToken")))return[2,null];a=JSON.stringify({refreshToken:n,platformId:e}),d.label=1;case 1:return d.trys.push([1,3,,4]),console.log("inside refreshToken in ts.  stackId = "+e),[4,k({url:T,method:"post",data:{query:"\n  mutation EXECUTE(\n    $actionId: ID!\n    $executionParameters: String\n    $unrestricted: Boolean\n  ) {\n    Execute(\n      actionId: $actionId\n      executionParameters: $executionParameters\n      unrestricted: $unrestricted\n    )\n  }\n",variables:{actionId:"96d3be63-53c5-418e-9167-71e3d43271e3",executionParameters:a,unrestricted:!0}}})];case 2:return(i=d.sent()).data&&i.data.data&&i.data.data.Execute&&(t=JSON.parse(i.data.Execute)).id&&t.AuthenticationResult&&t.AuthenticationResult.AccessToken?(localStorage.setItem("accessToken",t.AuthenticationResult.AccessToken),[2,t.AuthenticationResult.AccessToken]):[2,null];case 3:return r=d.sent(),console.log(r),[2,null];case 4:return[2]}}))}))}var pe=new p.HttpLink({uri:T});n.ASSOCIATE_INSTANCES={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ASSOCIATE_INSTANCES"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstInstanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"secondInstanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeAssnId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"CreateInstanceAssn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0}]}},{kind:"Field",alias:{kind:"Name",value:"addAssnToFirstInstance"},name:{kind:"Name",value:"AddInstanceInstanceAssns"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"firstInstanceId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceassnid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0}]}},{kind:"Field",alias:{kind:"Name",value:"addAssnToSecondInstance"},name:{kind:"Name",value:"AddInstanceInstanceAssns"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"secondInstanceId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceassnid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0}]}},{kind:"Field",alias:void 0,name:{kind:"Name",value:"AddInstanceAssnAssn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instanceassnid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}},{kind:"Argument",name:{kind:"Name",value:"assnid"},value:{kind:"Variable",name:{kind:"Name",value:"typeAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:603,source:{body:"\n  mutation ASSOCIATE_INSTANCES(\n    $firstInstanceId: ID!\n    $secondInstanceId: ID!\n    $instanceAssnId: ID!\n    $typeAssnId: ID!\n  ) {\n    CreateInstanceAssn(id: $instanceAssnId) {\n      id\n    }\n\n    addAssnToFirstInstance: AddInstanceInstanceAssns(\n      instanceid: $firstInstanceId\n      instanceassnid: $instanceAssnId\n    ) {\n      id\n    }\n\n    addAssnToSecondInstance: AddInstanceInstanceAssns(\n      instanceid: $secondInstanceId\n      instanceassnid: $instanceAssnId\n    ) {\n      id\n    }\n\n    AddInstanceAssnAssn(instanceassnid: $instanceAssnId, assnid: $typeAssnId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.CREATE_INSTANCE={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_INSTANCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"treeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"AddInstance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"typeId"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceID"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"Argument",name:{kind:"Name",value:"parentTypeId"},value:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}}},{kind:"Argument",name:{kind:"Name",value:"parentInstanceId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}},{kind:"Argument",name:{kind:"Name",value:"treeId"},value:{kind:"Variable",name:{kind:"Name",value:"treeId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"value"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:353,source:{body:"\n  mutation CREATE_INSTANCE(\n    $id: ID!\n    $value: String\n    $typeId: ID!\n    $parentId: ID!\n    $parentTypeId: ID!\n    $treeId: ID!\n  ) {\n    AddInstance(\n      typeId: $typeId\n      instanceID: $id\n      value: $value\n      parentTypeId: $parentTypeId\n      parentInstanceId: $parentId\n      treeId: $treeId\n    ) {\n      id\n      value\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.DELETE_INSTANCE={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DELETE_INSTANCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentInstanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"treeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"RemoveInstance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"typeId"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceID"},value:{kind:"Variable",name:{kind:"Name",value:"instanceId"}}},{kind:"Argument",name:{kind:"Name",value:"parentTypeId"},value:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}}},{kind:"Argument",name:{kind:"Name",value:"parentInstanceId"},value:{kind:"Variable",name:{kind:"Name",value:"parentInstanceId"}}},{kind:"Argument",name:{kind:"Name",value:"treeId"},value:{kind:"Variable",name:{kind:"Name",value:"treeId"}}}],directives:[],selectionSet:void 0}]}}],loc:{start:0,end:320,source:{body:"\n  mutation DELETE_INSTANCE(\n    $typeId: ID!\n    $instanceId: ID!\n    $parentTypeId: ID!\n    $parentInstanceId: ID!\n    $treeId: ID!\n  ) {\n    RemoveInstance(\n      typeId: $typeId\n      instanceID: $instanceId\n      parentTypeId: $parentTypeId\n      parentInstanceId: $parentInstanceId\n      treeId: $treeId\n    )\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.EXECUTE=x,n.FORGOT_PASSWORD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FORGOT_PASSWORD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userNameOrEmail"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"stackId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"ForgotPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userNameOrEmail"},value:{kind:"Variable",name:{kind:"Name",value:"userNameOrEmail"}}},{kind:"Argument",name:{kind:"Name",value:"stackId"},value:{kind:"Variable",name:{kind:"Name",value:"stackId"}}}],directives:[],selectionSet:void 0}]}}],loc:{start:0,end:149,source:{body:"\n  mutation FORGOT_PASSWORD($userNameOrEmail: String!, $stackId: ID!) {\n    ForgotPassword(userNameOrEmail: $userNameOrEmail, stackId: $stackId)\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.LOGIN_ACTION_ID=V,n.LoginForm=te,n.LogoutButton=de,n.NO_STACK_URI=T,n.NoStackConsumer=D,n.NoStackProvider=function(e){var n=e.client,a=e.platformId,i=e.children;return r.createElement(o.ApolloProvider,{client:n},r.createElement(d.Mutation,{mutation:x},(function(e){return r.createElement(C,{client:n,stackId:a,updateAuth:e},i)})))},n.REFRESH_TOKEN_ACTION_ID="96d3be63-53c5-418e-9167-71e3d43271e3",n.REGISTER_USER=E,n.RESEND_CONFIRMATION={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"resendConfirmation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userNameOrEmail"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"stackId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"ResendConfirmation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userNameOrEmail"},value:{kind:"Variable",name:{kind:"Name",value:"userNameOrEmail"}}},{kind:"Argument",name:{kind:"Name",value:"stackId"},value:{kind:"Variable",name:{kind:"Name",value:"stackId"}}}],directives:[],selectionSet:void 0}]}}],loc:{start:0,end:154,source:{body:"\n  mutation resendConfirmation($userNameOrEmail: String, $stackId: ID) {\n    ResendConfirmation(userNameOrEmail: $userNameOrEmail, stackId: $stackId)\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.RESET_PASSWORD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RESET_PASSWORD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userNameOrEmail"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"stackId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"ResetForgottenPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userNameOrEmail"},value:{kind:"Variable",name:{kind:"Name",value:"userNameOrEmail"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}},{kind:"Argument",name:{kind:"Name",value:"code"},value:{kind:"Variable",name:{kind:"Name",value:"code"}}},{kind:"Argument",name:{kind:"Name",value:"stackId"},value:{kind:"Variable",name:{kind:"Name",value:"stackId"}}}],directives:[],selectionSet:void 0}]}}],loc:{start:0,end:270,source:{body:"\n  mutation RESET_PASSWORD(\n    $userNameOrEmail: String!\n    $password: String!\n    $code: String!\n    $stackId: ID!\n  ) {\n    ResetForgottenPassword(\n      userNameOrEmail: $userNameOrEmail\n      password: $password\n      code: $code\n      stackId: $stackId\n    )\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.RegistrationForm=function(e){var n=e.submitButtonText,a=void 0===n?"Sign Up!":n,i=e.userClassId,d=e.onSuccess,o=u.useMutation(E)[0],l=t.useState(!1),s=l[0],m=l[1],v=t.useState(""),p=v[0],k=v[1];return s?r.createElement(oe,null,r.createElement("p",null,"Successfully created account! You can now log in.")):r.createElement(oe,null,r.createElement(c.Formik,{initialValues:ue,validationSchema:me,onSubmit:function(e,n){var a=n.setSubmitting;return y(void 0,void 0,void 0,(function(){var n;return h(this,(function(t){switch(t.label){case 0:if(k(""),e.password!==e.passwordConfirmation)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,o({variables:{userClassId:i,name:e.name,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}})];case 2:return t.sent(),m(!0),d&&d(),[3,4];case 3:return n=t.sent(),console.log(n),console.log(n.graphQLErrors),k("Something went wrong. Please try again."),[3,4];case 4:return a(!1),[2]}}))}))}},(function(e){var n=e.isSubmitting,i=e.isValid,t=e.dirty,d=e.isValidating;return r.createElement(c.Form,null,r.createElement(ce,{fieldLabel:"Username:",type:"text",name:"name"}),r.createElement(ce,{fieldLabel:"First Name:",type:"text",name:"firstName"}),r.createElement(ce,{fieldLabel:"Last Name:",type:"text",name:"lastName"}),r.createElement(ce,{fieldLabel:"Email:",type:"email",name:"email"}),r.createElement(ce,{fieldLabel:"Password:",type:"password",name:"password"}),r.createElement(ce,{fieldLabel:"Confirm Password:",type:"password",name:"passwordConfirmation"}),r.createElement(se,null,r.createElement("button",{type:"submit",disabled:n||!i||d||!t},a),p&&r.createElement(le,null,p)))})))},n.UPDATE_INSTANCE={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UPDATE_INSTANCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"UpdateInstance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"value"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"order"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:174,source:{body:"\n  mutation UPDATE_INSTANCE($id: ID!, $value: String, $order: Float) {\n    UpdateInstance(id: $id, value: $value, order: $order) {\n      id\n      value\n      order\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},n.Unit=function(e){var n=e.id,a=e.query,i=e.typeRelationships,t=e.unrestricted,o=void 0!==t&&t,l=e.parameters,s=e.children,c={id:n,typeRelationships:JSON.stringify(i),unrestricted:o,parameters:JSON.stringify(l)},u=[{query:a,variables:c}],m=function(e){return function(n,i){var t;if(console.log("in updateUnitAfterCreateAction"),e)t=e;else{var r=i.data&&JSON.parse(i.data.Execute);t={id:r.instanceId,instance:{id:r.instanceId,value:r.value,__typename:"Instance"},__typename:"InstanceWithTypedChildren"}}var d=n.readQuery({query:a,variables:g({},c)}).unitData;n.writeQuery({query:a,variables:g({},c),data:{unitData:S([t],d)}})}},v=function(e,n){return function(a,i){console.log("in updateUnitInstanceAfterUpdateAction.  response = "+JSON.stringify(i,null,2));var t=i.data&&JSON.parse(i.data.Execute);a.writeFragment({id:e+"Instance",fragment:n,data:{id:e,value:t.value,__typename:"Instance"}})}},p=function(e){return function(n){console.log("in updateUnitAfterDeleteAction");var i=n.readQuery({query:a,variables:g({},c)}).unitData;n.writeQuery({query:a,variables:g({},c),data:{unitData:i.filter((function(n){return n.instance.id!==e}))}})}};return r.createElement(D,null,(function(e){var i=e.currentUser;return r.createElement("div",null,r.createElement(ne,{id:n,currentUser:i}),r.createElement(d.Query,{query:a,variables:c},(function(e){var n=e.loading,a=e.error,i=e.data;return s(n?{loading:n,error:a,data:i}:a?{error:a}:{error:a,data:i,loading:n,queryVariables:c,refetchQueries:u,updateUnitAfterCreateAction:m,updateUnitInstanceAfterUpdateAction:v,updateUnitAfterDeleteAction:p})})))}))},n.VERIFY_TOKEN_ACTION_ID="1279e113-d70f-4a95-9890-a5cebd344f3d",n.createAuthLink=function(e){return v.setContext((function(n,a){var i=a.headers;return y(void 0,void 0,void 0,(function(){var n,a;return h(this,(function(t){switch(t.label){case 0:return(n=localStorage.getItem("accessToken"))&&(a=b.decode(n,{complete:!0}))?Math.ceil(Date.now()/1e3)>=a.payload.exp?[4,ve(e)]:[3,2]:[2,{headers:i}];case 1:if(!(n=t.sent()))return localStorage.clear(),[2,{headers:i}];t.label=2;case 2:return[2,{headers:g(g({},i),{jwt:n})}]}}))}))}))},n.httpLink=pe,n.refreshToken=ve,n.withNoStack=$},721:function(e,n,a){"use strict";var i=a(7),t=a(579),r=a(0),d=(a(4),a(581)),o=a(582),l=r.forwardRef((function(e,n){var a=e.active,o=e.alternativeLabel,l=void 0!==o&&o,s=e.classes,c=e.className,u=e.completed,m=e.disabled,v=(e.index,e.orientation),p=void 0===v?"horizontal":v,k=Object(t.a)(e,["active","alternativeLabel","classes","className","completed","disabled","index","orientation"]);return(r.createElement("div",Object(i.a)({className:Object(d.a)(s.root,s[p],c,l&&s.alternativeLabel,a&&s.active,u&&s.completed,m&&s.disabled),ref:n},k),r.createElement("span",{className:Object(d.a)(s.line,{horizontal:s.lineHorizontal,vertical:s.lineVertical}[p])})))}));n.a=Object(o.a)((function(e){return{root:{flex:"1 1 auto"},horizontal:{},vertical:{marginLeft:12,padding:"0 0 8px"},alternativeLabel:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"},active:{},completed:{},disabled:{},line:{display:"block",borderColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},lineHorizontal:{borderTopStyle:"solid",borderTopWidth:1},lineVertical:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}}),{name:"MuiStepConnector"})(l)},722:function(e,n,a){"use strict";var i=a(7),t=a(579),r=a(0),d=(a(4),a(581)),o=a(582),l=a(712),s=a(721),c=r.createElement(s.a,null),u=r.forwardRef((function(e,n){var a=e.activeStep,o=void 0===a?0:a,s=e.alternativeLabel,u=void 0!==s&&s,m=e.children,v=e.classes,p=e.className,k=e.connector,b=void 0===k?c:k,f=e.nonLinear,N=void 0!==f&&f,g=e.orientation,y=void 0===g?"horizontal":g,h=Object(t.a)(e,["activeStep","alternativeLabel","children","classes","className","connector","nonLinear","orientation"]),S=r.isValidElement(b)?r.cloneElement(b,{orientation:y}):null,I=r.Children.toArray(m),x=I.map((function(e,n){var a={index:n,active:!1,completed:!1,disabled:!1};return o===n?a.active=!0:!N&&o>n?a.completed=!0:!N&&o<n&&(a.disabled=!0),r.cloneElement(e,Object(i.a)({alternativeLabel:u,connector:S,last:n+1===I.length,orientation:y},a,e.props))}));return r.createElement(l.a,Object(i.a)({square:!0,elevation:0,className:Object(d.a)(v.root,v[y],p,u&&v.alternativeLabel),ref:n},h),x)}));n.a=Object(o.a)({root:{display:"flex",padding:24},horizontal:{flexDirection:"row",alignItems:"center"},vertical:{flexDirection:"column"},alternativeLabel:{alignItems:"flex-start"}},{name:"MuiStepper"})(u)},723:function(e,n,a){"use strict";var i=a(7),t=a(579),r=a(0),d=(a(58),a(4),a(581)),o=a(582),l=r.forwardRef((function(e,n){var a=e.active,o=void 0!==a&&a,l=e.alternativeLabel,s=e.children,c=e.classes,u=e.className,m=e.completed,v=void 0!==m&&m,p=e.connector,k=e.disabled,b=void 0!==k&&k,f=e.expanded,N=void 0!==f&&f,g=e.index,y=e.last,h=e.orientation,S=Object(t.a)(e,["active","alternativeLabel","children","classes","className","completed","connector","disabled","expanded","index","last","orientation"]),I=p?r.cloneElement(p,{orientation:h,alternativeLabel:l,index:g,active:o,completed:v,disabled:b}):null,x=r.createElement("div",Object(i.a)({className:Object(d.a)(c.root,c[h],u,l&&c.alternativeLabel,v&&c.completed),ref:n},S),I&&l&&0!==g?I:null,r.Children.map(s,(function(e){return r.isValidElement(e)?r.cloneElement(e,Object(i.a)({active:o,alternativeLabel:l,completed:v,disabled:b,expanded:N,last:y,icon:g+1,orientation:h},e.props)):null})));return I&&!l&&0!==g?r.createElement(r.Fragment,null,I,x):x}));n.a=Object(o.a)({root:{},horizontal:{paddingLeft:8,paddingRight:8},vertical:{},alternativeLabel:{flex:1,position:"relative"},completed:{}},{name:"MuiStep"})(l)},724:function(e,n,a){"use strict";var i=a(579),t=a(7),r=a(0),d=(a(4),a(581)),o=a(582),l=a(620),s=a(729),c=a(594),u=r.forwardRef((function(e,n){var a=e.children,o=e.classes,l=e.className,u=e.color,m=void 0===u?"default":u,v=e.component,p=void 0===v?"button":v,k=e.disabled,b=void 0!==k&&k,f=e.disableElevation,N=void 0!==f&&f,g=e.disableFocusRipple,y=void 0!==g&&g,h=e.endIcon,S=e.focusVisibleClassName,I=e.fullWidth,x=void 0!==I&&I,E=e.size,T=void 0===E?"medium":E,V=e.startIcon,A=e.type,w=void 0===A?"button":A,O=e.variant,D=void 0===O?"text":O,C=Object(i.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),$=V&&r.createElement("span",{className:Object(d.a)(o.startIcon,o["iconSize".concat(Object(c.a)(T))])},V),F=h&&r.createElement("span",{className:Object(d.a)(o.endIcon,o["iconSize".concat(Object(c.a)(T))])},h);return r.createElement(s.a,Object(t.a)({className:Object(d.a)(o.root,o[D],l,"inherit"===m?o.colorInherit:"default"!==m&&o["".concat(D).concat(Object(c.a)(m))],"medium"!==T&&[o["".concat(D,"Size").concat(Object(c.a)(T))],o["size".concat(Object(c.a)(T))]],N&&o.disableElevation,b&&o.disabled,x&&o.fullWidth),component:p,disabled:b,focusRipple:!y,focusVisibleClassName:Object(d.a)(o.focusVisible,S),ref:n,type:w},C),r.createElement("span",{className:o.label},$,a,F))}));n.a=Object(o.a)((function(e){return{root:Object(t.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(l.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(l.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(l.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(l.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(l.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(u)},731:function(e,n,a){"use strict";var i=a(7),t=a(579),r=a(0),d=(a(4),a(581)),o=a(582),l=a(714),s=a(622),c=Object(s.a)(r.createElement("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),u=Object(s.a)(r.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning"),m=a(643),v=r.createElement("circle",{cx:"12",cy:"12",r:"12"}),p=r.forwardRef((function(e,n){var a=e.completed,i=void 0!==a&&a,t=e.icon,o=e.active,l=void 0!==o&&o,s=e.error,p=void 0!==s&&s,k=e.classes;if("number"===typeof t||"string"===typeof t){var b=Object(d.a)(k.root,l&&k.active,p&&k.error,i&&k.completed);return p?r.createElement(u,{className:b,ref:n}):i?r.createElement(c,{className:b,ref:n}):r.createElement(m.a,{className:b,ref:n},v,r.createElement("text",{className:k.text,x:"12",y:"16",textAnchor:"middle"},t))}return t})),k=Object(o.a)((function(e){return{root:{display:"block",color:e.palette.text.disabled,"&$completed":{color:e.palette.primary.main},"&$active":{color:e.palette.primary.main},"&$error":{color:e.palette.error.main}},text:{fill:e.palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily},active:{},completed:{},error:{}}}),{name:"MuiStepIcon"})(p),b=r.forwardRef((function(e,n){var a=e.active,o=void 0!==a&&a,s=e.alternativeLabel,c=void 0!==s&&s,u=e.children,m=e.classes,v=e.className,p=e.completed,b=void 0!==p&&p,f=e.disabled,N=void 0!==f&&f,g=e.error,y=void 0!==g&&g,h=(e.expanded,e.icon),S=(e.last,e.optional),I=e.orientation,x=void 0===I?"horizontal":I,E=e.StepIconComponent,T=e.StepIconProps,V=Object(t.a)(e,["active","alternativeLabel","children","classes","className","completed","disabled","error","expanded","icon","last","optional","orientation","StepIconComponent","StepIconProps"]),A=E;return h&&!A&&(A=k),r.createElement("span",Object(i.a)({className:Object(d.a)(m.root,m[x],v,N&&m.disabled,c&&m.alternativeLabel,y&&m.error),ref:n},V),h||A?r.createElement("span",{className:Object(d.a)(m.iconContainer,c&&m.alternativeLabel)},r.createElement(A,Object(i.a)({completed:b,active:o,error:y,icon:h},T))):null,r.createElement("span",{className:m.labelContainer},u?r.createElement(l.a,{variant:"body2",component:"span",display:"block",className:Object(d.a)(m.label,c&&m.alternativeLabel,b&&m.completed,o&&m.active,y&&m.error)},u):null,S))}));b.muiName="StepLabel";n.a=Object(o.a)((function(e){return{root:{display:"flex",alignItems:"center","&$alternativeLabel":{flexDirection:"column"},"&$disabled":{cursor:"default"}},horizontal:{},vertical:{},label:{color:e.palette.text.secondary,"&$active":{color:e.palette.text.primary,fontWeight:500},"&$completed":{color:e.palette.text.primary,fontWeight:500},"&$alternativeLabel":{textAlign:"center",marginTop:16},"&$error":{color:e.palette.error.main}},active:{},completed:{},error:{},disabled:{},iconContainer:{flexShrink:0,display:"flex",paddingRight:8,"&$alternativeLabel":{paddingRight:0}},alternativeLabel:{},labelContainer:{width:"100%"}}}),{name:"MuiStepLabel"})(b)}}]);
//# sourceMappingURL=15.b69c53e7.chunk.js.map